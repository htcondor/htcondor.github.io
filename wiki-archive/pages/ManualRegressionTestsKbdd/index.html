<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="HTCondor Homepage">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/htcondor/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/htcondor/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/htcondor/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/htcondor/assets/images/favicons/site.webmanifest">
    <link rel="mask-icon" href="/htcondor/assets/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/htcondor/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/htcondor/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <!-- Primary Meta Tags -->
    <meta name="title" content="HTCondor">
    <meta name="description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://htcondor.org/">
    <meta property="og:title" content="HTCondor">
    <meta property="og:description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">
    <meta property="og:image" content="https://htcondor.org/assets/images/HTC.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://htcondor.org/">
    <meta property="twitter:title" content="HTCondor">
    <meta property="twitter:description" content="HTCondor is a specialized workload management system for compute-intensive jobs. Built to be flexible, expressive, and compatible with Grid and Cloud computing environments HTCondor made to increase your Computational Throughput.">
    <meta property="twitter:image" content="https://htcondor.org/assets/images/HTC.png">

    <title>Manual Regression Tests Kbdd</title>

    <script src="/htcondor/assets/js/sitewide.js" type="text/javascript" defer></script>
    <script src="/htcondor/assets/js/bootstrap.js" type="text/javascript"></script>
    

    

    <meta name="google-site-verification" content="lCkv5T7d4arQ-RPy5tUh6QyB5b3g6dlYtGxotDj1anQ" />
    <link rel="canonical" href="https://htcondor.org/wiki-archive/pages/ManualRegressionTestsKbdd/">

    

    

    <link href="/htcondor/assets/css/style-v1.css" media="screen, tv, projection" title="Default" rel="stylesheet">
    

</head>
<body class="vh-100 d-flex flex-column">

<!-- For non-visual user agents: -->
<a id="skip-link" href="#main-copy">Skip to main content.</a>

<header id="header">
    <div class="mb-4 container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navBar navbar-expand-lg navbar-light w-100">
                    <a href="/htcondor/index.html"><img height="75" alt="Condor High Throughput Computing" src="/htcondor/assets/images/CondorTitle.png" style="border:0"></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mb-2 mb-lg-0 ms-auto mt-auto">
                            <li class="nav-item">
                                <a class="nav-link " href="/htcondor/">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/htcondor/new">News</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/htcondor/downloads">Downloads</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " href="/htcondor/publications">Publications</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="mailto:htcondor-admin@cs.wisc.edu">Contact Us</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <div class="row">
            

<div class="searchForm" >
    <script>
        (function() {
            var cx = '010754594835990937497:xijuwhbknew';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
        })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
</div>


        </div>
    </div>
</header>
<main id="main-copy" tabindex="-1">
    <div class="container mb-4">
    <h1>Manual Regression Tests Kbdd</h1>
<div id="content">
 This is one of the
 <span class="wiki">
  <a href="/htcondor/wiki-archive/pages/ManualRegressionTests" title="Manual Regression Tests">
   ManualRegressionTests
  </a>
 </span>
 :
 <p>
  Confirm that the
  <span class="wiki">
   <a class="missing" href="/htcondor/wiki-archive/pages/KeyboardIdle" title="Keyboard Idle">
    KeyboardIdle
   </a>
  </span>
  is correctly set. In particular, is the condor_kbdd working?  Key cases to check:
 </p>
 <p>
 </p>
 <ul>
  <li>
   USB keyboard and mouse on Linux
  </li>
  <li>
   Windows Vista or later
  </li>
 </ul>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  To test on Linux:
 </h3>
 <ul>
  <li>
   untar the appropriate version of HTCondor in a scratch directory of a machine that you have access to the keyboard and mouse (note: make sure that keyboard and mouse are USB)
  </li>
  <li>
   run './condor_install .' (note the trailing dot)
  </li>
  <li>
   source condor.sh (as instructed)
  </li>
  <li>
   edit the file at local.*/condor_config.local and add the following:
   <div class="verbatim">
    <pre>ALLOW_WRITE = *
DAEMON_LIST = $(DAEMON_LIST), KBDD
</pre>
   </div>
  </li>
  <li>
   Run condor_master
  </li>
  <li>
   Give HTCondor a few seconds to start up, and then run this shell script
  </li>
 </ul>
 <p>
 </p>
 <div class="verbatim">
  <pre>while true; do sleep 10; condor_status -l -direct `hostname` | grep KeyboardIdle; done</pre>
 </div>
 <p>
 </p>
 <ul>
  <li>
   Poke at the keyboard and mouse (individually) and see if the timer resets.  For the mouse the timer might stay at 4 but this is probably ok.
  </li>
 </ul>
 <p>
  <span class="subsection">
  </span>
 </p>
 <h3>
  To test on Windows
 </h3>
 <p>
  On Windows, the KBDD needs to be in the registry so that it will start when a user logs on and will run as that user.  You can either do this by installing HTCondor using the MSI installer and choosing to run jobs when the keyboard is idle; or you can add KBDD to the DAEMON_LIST, start HTCondor, and then log off and back on again.  The KBDD should startup when you log on.
 </p>
 <p>
  To test the kbdd, run this as a .BAT file
 </p>
 <div class="verbatim">
  <pre>@echo off
for /L %%I in (1,1,100000) do (
time /T
condor_status -l | grep "Idle ="
sleep 20
)
</pre>
 </div>
 <p>
  <code>
   sleep
  </code>
  is not a native command on Windows. If you don't have it, you can use
  <code>
   ping 127.0.0.1 &gt; NUL
  </code>
  instead.  The KBDD seems to update about once every 3 minutes by default, so testing this takes some patience.
 </p>
</div>

</div>
</main>
<div id="footer" class="border-top mt-auto">
    <div class="container py-4">
        <div class="row">
            <div class="col text-center">
                For comments or questions about this website, please email
                <a href="mailto:htcondor-admin@cs.wisc.edu">htcondor-admin@cs.wisc.edu</a><br />
                This work is supported by <a href="https://www.nsf.gov/div/index.jsp?div=OAC">NSF</a> under Cooperative Agreement <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">OAC-2030508</a> as part of the <a href="https://path-cc.io/">PATh Project</a>. <br />
                <script type="text/javascript">
                    document.write("Updated &raquo; "+lastMod(document.lastModified))
                </script>
            </div>
        </div>
    </div>
</div>



</body>
</html>
